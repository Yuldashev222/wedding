!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):window.jQuery||window.Zepto)}(function($){var g,h,i,j,k,l,m="Close",n="BeforeClose",o="MarkupParse",p="Open",q="Change",r=".mfp",s="mfp-ready",t="mfp-removing",u="mfp-prevent-close",a=function(){},v=!!window.jQuery,w=$(window),x=function(a,b){g.ev.on("mfp"+a+r,b)},y=function(d,b,c,e){var a=document.createElement("div");return a.className="mfp-"+d,c&&(a.innerHTML=c),e?b&&b.appendChild(a):(a=$(a),b&&a.appendTo(b)),a},z=function(a,b){g.ev.triggerHandler("mfp"+a,b),g.st.callbacks&&(a=a.charAt(0).toLowerCase()+a.slice(1),g.st.callbacks[a]&&g.st.callbacks[a].apply(g,$.isArray(b)?b:[b]))},A=function(a){return a===l&&g.currTemplate.closeBtn||(g.currTemplate.closeBtn=$(g.st.closeMarkup.replace("%title%",g.st.tClose)),l=a),g.currTemplate.closeBtn},b=function(){$.magnificPopup.instance||((g=new a).init(),$.magnificPopup.instance=g)},B=function(){var a=document.createElement("p").style,b=["ms","O","Moz","Webkit"];if(void 0!==a.transition)return!0;for(;b.length;)if(b.pop()+"Transition" in a)return!0;return!1};a.prototype={constructor:a,init:function(){var a=navigator.appVersion;g.isLowIE=g.isIE8=document.all&&!document.addEventListener,g.isAndroid=/android/gi.test(a),g.isIOS=/iphone|ipad|ipod/gi.test(a),g.supportsTransition=B(),g.probablyMobile=g.isAndroid||g.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),i=$(document),g.popupsCache={}},open:function(a){if(!1===a.isObj){g.items=a.items.toArray(),g.index=0;var b,c,h=a.items;for(b=0;b<h.length;b++)if((c=h[b]).parsed&&(c=c.el[0]),c===a.el[0]){g.index=b;break}}else g.items=$.isArray(a.items)?a.items:[a.items],g.index=a.index||0;if(g.isOpen){g.updateItemHTML();return}g.types=[],k="",a.mainEl&&a.mainEl.length?g.ev=a.mainEl.eq(0):g.ev=i,a.key?(g.popupsCache[a.key]||(g.popupsCache[a.key]={}),g.currTemplate=g.popupsCache[a.key]):g.currTemplate={},g.st=$.extend(!0,{},$.magnificPopup.defaults,a),g.fixedContentPos="auto"===g.st.fixedContentPos?!g.probablyMobile:g.st.fixedContentPos,g.st.modal&&(g.st.closeOnContentClick=!1,g.st.closeOnBgClick=!1,g.st.showCloseBtn=!1,g.st.enableEscapeKey=!1),g.bgOverlay||(g.bgOverlay=y("bg").on("click"+r,function(){g.close()}),g.wrap=y("wrap").attr("tabindex",-1).on("click"+r,function(a){g._checkIfClose(a.target)&&g.close()}),g.container=y("container",g.wrap)),g.contentContainer=y("content"),g.st.preloader&&(g.preloader=y("preloader",g.container,g.st.tLoading));var j=$.magnificPopup.modules;for(b=0;b<j.length;b++){var d=j[b];g["init"+(d=d.charAt(0).toUpperCase()+d.slice(1))].call(g)}z("BeforeOpen"),g.st.showCloseBtn&&(g.st.closeBtnInside?(x(o,function(c,d,a,b){a.close_replaceWith=A(b.type)}),k+=" mfp-close-btn-in"):g.wrap.append(A())),g.st.alignTop&&(k+=" mfp-align-top"),g.fixedContentPos?g.wrap.css({overflow:g.st.overflowY,overflowX:"hidden",overflowY:g.st.overflowY}):g.wrap.css({top:w.scrollTop(),position:"absolute"}),!1!==g.st.fixedBgPos&&("auto"!==g.st.fixedBgPos||g.fixedContentPos)||g.bgOverlay.css({height:i.height(),position:"absolute"}),g.st.enableEscapeKey&&i.on("keyup"+r,function(a){27===a.keyCode&&g.close()}),w.on("resize"+r,function(){g.updateSize()}),g.st.closeOnContentClick||(k+=" mfp-auto-cursor"),k&&g.wrap.addClass(k);var l=g.wH=w.height(),e={};if(g.fixedContentPos&&g._hasScrollBar(l)){var m=g._getScrollbarSize();m&&(e.marginRight=m)}g.fixedContentPos&&(g.isIE7?$("body, html").css("overflow","hidden"):e.overflow="hidden");var f=g.st.mainClass;return g.isIE7&&(f+=" mfp-ie7"),f&&g._addClassToMFP(f),g.updateItemHTML(),z("BuildControls"),$("html").css(e),g.bgOverlay.add(g.wrap).prependTo(g.st.prependTo||$(document.body)),g._lastFocusedEl=document.activeElement,setTimeout(function(){g.content?(g._addClassToMFP(s),g._setFocus()):g.bgOverlay.addClass(s),i.on("focusin"+r,g._onFocusIn)},16),g.isOpen=!0,g.updateSize(l),z(p),a},close:function(){g.isOpen&&(z(n),g.isOpen=!1,g.st.removalDelay&&!g.isLowIE&&g.supportsTransition?(g._addClassToMFP(t),setTimeout(function(){g._close()},g.st.removalDelay)):g._close())},_close:function(){z(m);var a=t+" "+s+" ";if(g.bgOverlay.detach(),g.wrap.detach(),g.container.empty(),g.st.mainClass&&(a+=g.st.mainClass+" "),g._removeClassFromMFP(a),g.fixedContentPos){var b={marginRight:""};g.isIE7?$("body, html").css("overflow",""):b.overflow="",$("html").css(b)}i.off("keyup"+r+" focusin"+r),g.ev.off(r),g.wrap.attr("class","mfp-wrap").removeAttr("style"),g.bgOverlay.attr("class","mfp-bg"),g.container.attr("class","mfp-container"),g.st.showCloseBtn&&(!g.st.closeBtnInside|| !0===g.currTemplate[g.currItem.type])&&g.currTemplate.closeBtn&&g.currTemplate.closeBtn.detach(),g.st.autoFocusLast&&g._lastFocusedEl&&$(g._lastFocusedEl).focus(),g.currItem=null,g.content=null,g.currTemplate=null,g.prevHeight=0,z("AfterClose")},updateSize:function(b){if(g.isIOS){var c=document.documentElement.clientWidth/window.innerWidth,a=window.innerHeight*c;g.wrap.css("height",a),g.wH=a}else g.wH=b||w.height();g.fixedContentPos||g.wrap.css("height",g.wH),z("Resize")},updateItemHTML:function(){var b=g.items[g.index];g.contentContainer.detach(),g.content&&g.content.detach(),b.parsed||(b=g.parseEl(g.index));var a=b.type;if(z("BeforeChange",[g.currItem?g.currItem.type:"",a]),g.currItem=b,!g.currTemplate[a]){var c=!!g.st[a]&&g.st[a].markup;z("FirstMarkupParse",c),c?g.currTemplate[a]=$(c):g.currTemplate[a]=!0}j&&j!==b.type&&g.container.removeClass("mfp-"+j+"-holder");var d=g["get"+a.charAt(0).toUpperCase()+a.slice(1)](b,g.currTemplate[a]);g.appendContent(d,a),b.preloaded=!0,z(q,b),j=b.type,g.container.prepend(g.contentContainer),z("AfterChange")},appendContent:function(a,b){g.content=a,a?g.st.showCloseBtn&&g.st.closeBtnInside&& !0===g.currTemplate[b]?g.content.find(".mfp-close").length||g.content.append(A()):g.content=a:g.content="",z("BeforeAppend"),g.container.addClass("mfp-"+b+"-holder"),g.contentContainer.append(g.content)},parseEl:function(b){var d,a=g.items[b];if(a.tagName?a={el:$(a)}:(d=a.type,a={data:a,src:a.src}),a.el){for(var e=g.types,c=0;c<e.length;c++)if(a.el.hasClass("mfp-"+e[c])){d=e[c];break}a.src=a.el.attr("data-mfp-src"),a.src||(a.src=a.el.attr("href"))}return a.type=d||g.st.type||"inline",a.index=b,a.parsed=!0,g.items[b]=a,z("ElementParse",a),g.items[b]},addGroup:function(c,a){var d=function(b){b.mfpEl=this,g._openClick(b,c,a)};a||(a={});var b="click.magnificPopup";a.mainEl=c,a.items?(a.isObj=!0,c.off(b).on(b,d)):(a.isObj=!1,a.delegate?c.off(b).on(b,a.delegate,d):(a.items=c,c.off(b).on(b,d)))},_openClick:function(a,d,b){if((void 0!==b.midClick?b.midClick:$.magnificPopup.defaults.midClick)||2!==a.which&&!a.ctrlKey&&!a.metaKey&&!a.altKey&&!a.shiftKey){var c=void 0!==b.disableOn?b.disableOn:$.magnificPopup.defaults.disableOn;if(c){if($.isFunction(c)){if(!c.call(g))return!0}else if(w.width()<c)return!0}a.type&&(a.preventDefault(),g.isOpen&&a.stopPropagation()),b.el=$(a.mfpEl),b.delegate&&(b.items=d.find(b.delegate)),g.open(b)}},updateStatus:function(a,b){if(g.preloader){h!==a&&g.container.removeClass("mfp-s-"+h),b||"loading"!==a||(b=g.st.tLoading);var c={status:a,text:b};z("UpdateStatus",c),a=c.status,b=c.text,g.preloader.html(b),g.preloader.find("a").on("click",function(a){a.stopImmediatePropagation()}),g.container.addClass("mfp-s-"+a),h=a}},_checkIfClose:function(a){if(!$(a).hasClass(u)){var b=g.st.closeOnContentClick,c=g.st.closeOnBgClick;if(b&&c|| !g.content||$(a).hasClass("mfp-close")||g.preloader&&a===g.preloader[0])return!0;if(a===g.content[0]||$.contains(g.content[0],a)){if(b)return!0}else if(c&&$.contains(document,a))return!0;return!1}},_addClassToMFP:function(a){g.bgOverlay.addClass(a),g.wrap.addClass(a)},_removeClassFromMFP:function(a){this.bgOverlay.removeClass(a),g.wrap.removeClass(a)},_hasScrollBar:function(a){return(g.isIE7?i.height():document.body.scrollHeight)>(a||w.height())},_setFocus:function(){(g.st.focus?g.content.find(g.st.focus).eq(0):g.wrap).focus()},_onFocusIn:function(a){if(a.target!==g.wrap[0]&&!$.contains(g.wrap[0],a.target))return g._setFocus(),!1},_parseMarkup:function(c,a,b){var d;b.data&&(a=$.extend(b.data,a)),z(o,[c,a,b]),$.each(a,function(e,a){if(void 0===a|| !1===a)return!0;if((d=e.split("_")).length>1){var b=c.find(r+"-"+d[0]);if(b.length>0){var f=d[1];"replaceWith"===f?b[0]!==a[0]&&b.replaceWith(a):"img"===f?b.is("img")?b.attr("src",a):b.replaceWith($("<img>").attr("src",a).attr("class",b.attr("class"))):b.attr(d[1],a)}}else c.find(r+"-"+e).html(a)})},_getScrollbarSize:function(){if(void 0===g.scrollbarSize){var a=document.createElement("div");a.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(a),g.scrollbarSize=a.offsetWidth-a.clientWidth,document.body.removeChild(a)}return g.scrollbarSize}},$.magnificPopup={instance:null,proto:a.prototype,modules:[],open:function(a,c){return b(),(a=a?$.extend(!0,{},a):{}).isObj=!0,a.index=c||0,this.instance.open(a)},close:function(){return $.magnificPopup.instance&&$.magnificPopup.instance.close()},registerModule:function(b,a){a.options&&($.magnificPopup.defaults[b]=a.options),$.extend(this.proto,a.proto),this.modules.push(b)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&#215;</button>',tClose:"Close (Esc)",tLoading:"Loading...",autoFocusLast:!0}},$.fn.magnificPopup=function(a){b();var c=$(this);if("string"==typeof a){if("open"===a){var d,e=v?c.data("magnificPopup"):c[0].magnificPopup,f=parseInt(arguments[1],10)||0;e.items?d=e.items[f]:(d=c,e.delegate&&(d=d.find(e.delegate)),d=d.eq(f)),g._openClick({mfpEl:d},c,e)}else g.isOpen&&g[a].apply(g,Array.prototype.slice.call(arguments,1))}else a=$.extend(!0,{},a),v?c.data("magnificPopup",a):c[0].magnificPopup=a,g.addGroup(c,a);return c};var C,D,E,c="inline",F=function(){E&&(D.after(E.addClass(C)).detach(),E=null)};$.magnificPopup.registerModule(c,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){g.types.push(c),x(m+"."+c,function(){F()})},getInline:function(b,c){if(F(),b.src){var d=g.st.inline,a=$(b.src);if(a.length){var e=a[0].parentNode;e&&e.tagName&&(D||(D=y(C=d.hiddenClass),C="mfp-"+C),E=a.after(D).detach().removeClass(C)),g.updateStatus("ready")}else g.updateStatus("error",d.tNotFound),a=$("<div>");return b.inlineElement=a,a}return g.updateStatus("ready"),g._parseMarkup(c,{},b),c}}});var G,d="ajax",H=function(){G&&$(document.body).removeClass(G)},I=function(){H(),g.req&&g.req.abort()};$.magnificPopup.registerModule(d,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){g.types.push(d),G=g.st.ajax.cursor,x(m+"."+d,I),x("BeforeChange."+d,I)},getAjax:function(a){G&&$(document.body).addClass(G),g.updateStatus("loading");var b=$.extend({url:a.src,success:function(c,f,e){var b={data:c,xhr:e};z("ParseAjax",b),g.appendContent($(b.data),d),a.finished=!0,H(),g._setFocus(),setTimeout(function(){g.wrap.addClass(s)},16),g.updateStatus("ready"),z("AjaxContentAdded")},error:function(){H(),a.finished=a.loadError=!0,g.updateStatus("error",g.st.ajax.tError.replace("%url%",a.src))}},g.st.ajax.settings);return g.req=$.ajax(b),""}}});var J,K,L=function(a){if(a.data&& void 0!==a.data.title)return a.data.title;var b=g.st.image.titleSrc;if(b){if($.isFunction(b))return b.call(g,a);if(a.el)return a.el.attr(b)||""}return""};$.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var b=g.st.image,a=".image";g.types.push("image"),x(p+a,function(){"image"===g.currItem.type&&b.cursor&&$(document.body).addClass(b.cursor)}),x(m+a,function(){b.cursor&&$(document.body).removeClass(b.cursor),w.off("resize"+r)}),x("Resize"+a,g.resizeImage),g.isLowIE&&x("AfterChange",g.resizeImage)},resizeImage:function(){var a=g.currItem;if(a&&a.img&&g.st.image.verticalFit){var b=0;g.isLowIE&&(b=parseInt(a.img.css("padding-top"),10)+parseInt(a.img.css("padding-bottom"),10)),a.img.css("max-height",g.wH-b)}},_onImageHasSize:function(a){a.img&&(a.hasSize=!0,J&&clearInterval(J),a.isCheckingImgSize=!1,z("ImageHasSize",a),a.imgHidden&&(g.content&&g.content.removeClass("mfp-loading"),a.imgHidden=!1))},findImageSize:function(a){var c=0,d=a.img[0],b=function(e){J&&clearInterval(J),J=setInterval(function(){if(d.naturalWidth>0){g._onImageHasSize(a);return}c>200&&clearInterval(J),3== ++c?b(10):40===c?b(50):100===c&&b(500)},e)};b(1)},getImage:function(a,b){var i=0,e=function(){a&&(a.img[0].complete?(a.img.off(".mfploader"),a===g.currItem&&(g._onImageHasSize(a),g.updateStatus("ready")),a.hasSize=!0,a.loaded=!0,z("ImageLoadComplete")):++i<200?setTimeout(e,100):f())},f=function(){a&&(a.img.off(".mfploader"),a===g.currItem&&(g._onImageHasSize(a),g.updateStatus("error",h.tError.replace("%url%",a.src))),a.hasSize=!0,a.loaded=!0,a.loadError=!0)},h=g.st.image,d=b.find(".mfp-img");if(d.length){var c=document.createElement("img");c.className="mfp-img",a.el&&a.el.find("img").length&&(c.alt=a.el.find("img").attr("alt")),a.img=$(c).on("load.mfploader",e).on("error.mfploader",f),c.src=a.src,d.is("img")&&(a.img=a.img.clone()),(c=a.img[0]).naturalWidth>0?a.hasSize=!0:c.width||(a.hasSize=!1)}return(g._parseMarkup(b,{title:L(a),img_replaceWith:a.img},a),g.resizeImage(),a.hasSize)?(J&&clearInterval(J),a.loadError?(b.addClass("mfp-loading"),g.updateStatus("error",h.tError.replace("%url%",a.src))):(b.removeClass("mfp-loading"),g.updateStatus("ready")),b):(g.updateStatus("loading"),a.loading=!0,a.hasSize||(a.imgHidden=!0,b.addClass("mfp-loading"),g.findImageSize(a)),b)}}}),$.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(a){return a.is("img")?a:a.find("img")}},proto:{initZoom:function(){var c,b=g.st.zoom,a=".zoom";if(b.enabled&&g.supportsTransition){var d,e,f=b.duration,h=function(e){var d=e.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),f="all "+b.duration/1e3+"s "+b.easing,a={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},c="transition";return a["-webkit-"+c]=a["-moz-"+c]=a["-o-"+c]=a[c]=f,d.css(a),d},i=function(){g.content.css("visibility","visible")};x("BuildControls"+a,function(){if(g._allowZoom()){if(clearTimeout(d),g.content.css("visibility","hidden"),!(c=g._getItemToZoom())){i();return}(e=h(c)).css(g._getOffset()),g.wrap.append(e),d=setTimeout(function(){e.css(g._getOffset(!0)),d=setTimeout(function(){i(),setTimeout(function(){e.remove(),c=e=null,z("ZoomAnimationEnded")},16)},f)},16)}}),x(n+a,function(){if(g._allowZoom()){if(clearTimeout(d),g.st.removalDelay=f,!c){if(!(c=g._getItemToZoom()))return;e=h(c)}e.css(g._getOffset(!0)),g.wrap.append(e),g.content.css("visibility","hidden"),setTimeout(function(){e.css(g._getOffset())},16)}}),x(m+a,function(){g._allowZoom()&&(i(),e&&e.remove(),c=null)})}},_allowZoom:function(){return"image"===g.currItem.type},_getItemToZoom:function(){return!!g.currItem.hasSize&&g.currItem.img},_getOffset:function(e){var a,b=(a=e?g.currItem.img:g.st.zoom.opener(g.currItem.el||g.currItem)).offset(),d=parseInt(a.css("padding-top"),10),f=parseInt(a.css("padding-bottom"),10);b.top-=$(window).scrollTop()-d;var c={width:a.width(),height:(v?a.innerHeight():a[0].offsetHeight)-f-d};return(void 0===K&&(K=void 0!==document.createElement("p").style.MozTransform),K)?c["-moz-transform"]=c.transform="translate("+b.left+"px,"+b.top+"px)":(c.left=b.left,c.top=b.top),c}}});var e="iframe",M=function(b){if(g.currTemplate[e]){var a=g.currTemplate[e].find("iframe");a.length&&(b||(a[0].src="//about:blank"),g.isIE8&&a.css("display",b?"block":"none"))}};$.magnificPopup.registerModule(e,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){g.types.push(e),x("BeforeChange",function(c,a,b){a!==b&&(a===e?M():b===e&&M(!0))}),x(m+"."+e,function(){M()})},getIframe:function(b,c){var e=b.src,a=g.st.iframe;$.each(a.patterns,function(){if(e.indexOf(this.index)> -1)return this.id&&(e="string"==typeof this.id?e.substr(e.lastIndexOf(this.id)+this.id.length,e.length):this.id.call(this,e)),e=this.src.replace("%id%",e),!1});var d={};return a.srcAction&&(d[a.srcAction]=e),g._parseMarkup(c,d,b),g.updateStatus("ready"),c}}});var N=function(a){var b=g.items.length;return a>b-1?a-b:a<0?b+a:a},O=function(a,b,c){return a.replace(/%curr%/gi,b+1).replace(/%total%/gi,c)};$.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var b=g.st.gallery,a=".mfp-gallery";if(g.direction=!0,!b||!b.enabled)return!1;k+=" mfp-gallery",x(p+a,function(){b.navigateByImgClick&&g.wrap.on("click"+a,".mfp-img",function(){if(g.items.length>1)return g.next(),!1}),i.on("keydown"+a,function(a){37===a.keyCode?g.prev():39===a.keyCode&&g.next()})}),x("UpdateStatus"+a,function(b,a){a.text&&(a.text=O(a.text,g.currItem.index,g.items.length))}),x(o+a,function(e,f,c,d){var a=g.items.length;c.counter=a>1?O(b.tCounter,d.index,a):""}),x("BuildControls"+a,function(){if(g.items.length>1&&b.arrows&&!g.arrowLeft){var a=b.arrowMarkup,c=g.arrowLeft=$(a.replace(/%title%/gi,b.tPrev).replace(/%dir%/gi,"left")).addClass(u),d=g.arrowRight=$(a.replace(/%title%/gi,b.tNext).replace(/%dir%/gi,"right")).addClass(u);c.click(function(){g.prev()}),d.click(function(){g.next()}),g.container.append(c.add(d))}}),x(q+a,function(){g._preloadTimeout&&clearTimeout(g._preloadTimeout),g._preloadTimeout=setTimeout(function(){g.preloadNearbyImages(),g._preloadTimeout=null},16)}),x(m+a,function(){i.off(a),g.wrap.off("click"+a),g.arrowRight=g.arrowLeft=null})},next:function(){g.direction=!0,g.index=N(g.index+1),g.updateItemHTML()},prev:function(){g.direction=!1,g.index=N(g.index-1),g.updateItemHTML()},goTo:function(a){g.direction=a>=g.index,g.index=a,g.updateItemHTML()},preloadNearbyImages:function(){var a,b=g.st.gallery.preload,c=Math.min(b[0],g.items.length),d=Math.min(b[1],g.items.length);for(a=1;a<=(g.direction?d:c);a++)g._preloadItem(g.index+a);for(a=1;a<=(g.direction?c:d);a++)g._preloadItem(g.index-a)},_preloadItem:function(b){if(b=N(b),!g.items[b].preloaded){var a=g.items[b];a.parsed||(a=g.parseEl(b)),z("LazyLoad",a),"image"===a.type&&(a.img=$('<img class="mfp-img" />').on("load.mfploader",function(){a.hasSize=!0}).on("error.mfploader",function(){a.hasSize=!0,a.loadError=!0,z("LazyLoadError",a)}).attr("src",a.src)),a.preloaded=!0}}}});var f="retina";$.magnificPopup.registerModule(f,{options:{replaceSrc:function(a){return a.src.replace(/\.\w+$/,function(a){return"@2x"+a})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var b=g.st.retina,a=b.ratio;(a=isNaN(a)?a():a)>1&&(x("ImageHasSize."+f,function(c,b){b.img.css({"max-width":b.img[0].naturalWidth/a,width:"100%"})}),x("ElementParse."+f,function(d,c){c.src=b.replaceSrc(c,a)}))}}}}),b()})